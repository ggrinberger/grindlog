@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   CSS VARIABLES & ROOT STYLES
   ============================================ */
:root {
  --gradient-primary: linear-gradient(135deg, #10b981 0%, #059669 100%);
  --gradient-secondary: linear-gradient(135deg, #6366f1 0%, #4f46e5 100%);
  --gradient-accent: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
  --gradient-subtle: linear-gradient(180deg, rgba(255,255,255,0) 0%, rgba(248,250,252,1) 100%);
  --gradient-dark-subtle: linear-gradient(180deg, rgba(15,23,42,0) 0%, rgba(15,23,42,1) 100%);
}

body {
  @apply bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-slate-100;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

/* ============================================
   TYPOGRAPHY HIERARCHY
   ============================================ */
h1, .h1 {
  @apply text-2xl sm:text-3xl lg:text-4xl font-bold tracking-tight;
}

h2, .h2 {
  @apply text-xl sm:text-2xl font-semibold tracking-tight;
}

h3, .h3 {
  @apply text-lg sm:text-xl font-semibold;
}

h4, .h4 {
  @apply text-base sm:text-lg font-medium;
}

.text-muted {
  @apply text-slate-500 dark:text-slate-400;
}

.text-subtle {
  @apply text-slate-400 dark:text-slate-500;
}

/* ============================================
   MOBILE OPTIMIZATIONS
   ============================================ */
/* Prevent zoom on input focus on iOS */
@media screen and (max-width: 768px) {
  input, select, textarea {
    font-size: 16px !important;
  }
}

/* Safe area for notched phones */
@supports (padding: env(safe-area-inset-bottom)) {
  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom);
  }
  .pt-safe {
    padding-top: env(safe-area-inset-top);
  }
}

/* Better tap targets */
button, a, input[type="checkbox"], input[type="radio"], .tap-target {
  min-height: 44px;
}

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* ============================================
   BUTTONS
   ============================================ */
/* Primary button with gradient */
.btn-primary {
  @apply text-white font-semibold py-2.5 px-5 rounded-xl transition-all duration-200;
  @apply shadow-lg shadow-emerald-500/25 hover:shadow-xl hover:shadow-emerald-500/30;
  @apply hover:-translate-y-0.5 active:translate-y-0 active:scale-[0.98];
  @apply focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 dark:focus:ring-offset-slate-900;
  background: var(--gradient-primary);
}

.btn-primary:disabled {
  @apply opacity-50 cursor-not-allowed hover:translate-y-0 hover:scale-100 shadow-none;
}

/* Secondary button */
.btn-secondary {
  @apply bg-white hover:bg-slate-50 text-slate-700 font-semibold py-2.5 px-5 rounded-xl;
  @apply border border-slate-200 transition-all duration-200;
  @apply hover:border-slate-300 hover:shadow-md active:scale-[0.98];
  @apply dark:bg-slate-800 dark:hover:bg-slate-700 dark:text-slate-200 dark:border-slate-700;
  @apply focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 dark:focus:ring-offset-slate-900;
}

/* Danger button */
.btn-danger {
  @apply bg-red-500 hover:bg-red-600 text-white font-semibold py-2.5 px-5 rounded-xl;
  @apply shadow-lg shadow-red-500/25 transition-all duration-200;
  @apply active:scale-[0.98];
  @apply focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 dark:focus:ring-offset-slate-900;
}

/* Ghost button */
.btn-ghost {
  @apply text-slate-600 dark:text-slate-400 font-medium py-2 px-4 rounded-xl;
  @apply hover:bg-slate-100 dark:hover:bg-slate-800 transition-all duration-200;
  @apply active:scale-[0.98];
}

/* Icon button */
.btn-icon {
  @apply p-2.5 rounded-xl text-slate-500 dark:text-slate-400;
  @apply hover:bg-slate-100 dark:hover:bg-slate-800 transition-all duration-200;
  @apply active:scale-95;
}

/* ============================================
   CARDS
   ============================================ */
/* Card styles */
.card {
  @apply bg-white rounded-2xl shadow-soft border border-slate-100/80 p-5 sm:p-6;
  @apply transition-all duration-300 ease-smooth;
  @apply dark:bg-slate-900 dark:border-slate-800/80 dark:shadow-lg dark:shadow-black/20;
}

.card-hover:hover {
  @apply shadow-soft-lg border-slate-200 -translate-y-1;
  @apply dark:shadow-xl dark:shadow-black/30 dark:border-slate-700;
}

/* Card with gradient border on hover */
.card-glow:hover {
  @apply shadow-glow-emerald;
}

/* Stat card with gradient icon background */
.stat-card {
  @apply bg-white rounded-2xl shadow-soft border border-slate-100/80 p-5;
  @apply flex items-center gap-4 transition-all duration-300;
  @apply hover:shadow-soft-lg hover:-translate-y-0.5;
  @apply dark:bg-slate-900 dark:border-slate-800/80;
}

.stat-icon {
  @apply w-12 h-12 rounded-xl flex items-center justify-center text-2xl;
  @apply transition-transform duration-300;
}

.stat-card:hover .stat-icon {
  @apply scale-110;
}

.stat-icon-emerald {
  @apply bg-gradient-to-br from-emerald-100 to-emerald-50 text-emerald-600;
  @apply dark:from-emerald-900/50 dark:to-emerald-900/30 dark:text-emerald-400;
}

.stat-icon-blue {
  @apply bg-gradient-to-br from-blue-100 to-blue-50 text-blue-600;
  @apply dark:from-blue-900/50 dark:to-blue-900/30 dark:text-blue-400;
}

.stat-icon-purple {
  @apply bg-gradient-to-br from-purple-100 to-purple-50 text-purple-600;
  @apply dark:from-purple-900/50 dark:to-purple-900/30 dark:text-purple-400;
}

.stat-icon-orange {
  @apply bg-gradient-to-br from-orange-100 to-orange-50 text-orange-600;
  @apply dark:from-orange-900/50 dark:to-orange-900/30 dark:text-orange-400;
}

.stat-icon-pink {
  @apply bg-gradient-to-br from-pink-100 to-pink-50 text-pink-600;
  @apply dark:from-pink-900/50 dark:to-pink-900/30 dark:text-pink-400;
}

/* ============================================
   FORM ELEMENTS
   ============================================ */
/* Input styles */
.input {
  @apply w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl;
  @apply focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 focus:bg-white;
  @apply outline-none transition-all duration-200;
  @apply text-base placeholder:text-slate-400;
  @apply dark:bg-slate-800 dark:border-slate-700 dark:focus:bg-slate-800 dark:text-white dark:placeholder:text-slate-500;
}

.input-error {
  @apply border-red-300 focus:ring-red-500/20 focus:border-red-500;
}

.label {
  @apply block text-sm font-medium text-slate-700 mb-1.5 dark:text-slate-300;
}

/* Select styles */
select.input {
  @apply appearance-none cursor-pointer;
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
  background-position: right 0.75rem center;
  background-repeat: no-repeat;
  background-size: 1.5em 1.5em;
  padding-right: 2.5rem;
}

/* Checkbox styles */
.checkbox {
  @apply w-5 h-5 rounded border-2 border-slate-300 dark:border-slate-600;
  @apply checked:bg-emerald-500 checked:border-emerald-500;
  @apply focus:ring-2 focus:ring-emerald-500/20 transition-all duration-200;
  @apply cursor-pointer;
}

/* ============================================
   PAGE LAYOUT
   ============================================ */
/* Page header */
.page-header {
  @apply flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6;
  @apply animate-fade-in-down;
}

.page-title {
  @apply text-2xl sm:text-3xl font-bold text-slate-900 dark:text-white tracking-tight;
}

.page-subtitle {
  @apply text-slate-500 dark:text-slate-400 mt-1;
}

/* Page content animation wrapper */
.page-content {
  @apply animate-fade-in-up;
}

/* ============================================
   TABLE STYLES
   ============================================ */
.table-container {
  @apply overflow-x-auto rounded-xl border border-slate-200 dark:border-slate-700;
}

.table {
  @apply w-full text-sm;
}

.table th {
  @apply text-left py-3 px-4 bg-slate-50 font-semibold text-slate-600 border-b border-slate-200;
  @apply dark:bg-slate-800 dark:text-slate-300 dark:border-slate-700;
}

.table td {
  @apply py-3 px-4 border-b border-slate-100 dark:border-slate-800;
}

.table tr:last-child td {
  @apply border-b-0;
}

.table tr {
  @apply transition-colors duration-150;
}

.table tr:hover td {
  @apply bg-slate-50 dark:bg-slate-800/50;
}

/* ============================================
   BADGES
   ============================================ */
.badge {
  @apply inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold;
  @apply transition-all duration-200;
}

.badge-emerald {
  @apply bg-emerald-100 text-emerald-700 dark:bg-emerald-900/50 dark:text-emerald-300;
}

.badge-blue {
  @apply bg-blue-100 text-blue-700 dark:bg-blue-900/50 dark:text-blue-300;
}

.badge-purple {
  @apply bg-purple-100 text-purple-700 dark:bg-purple-900/50 dark:text-purple-300;
}

.badge-orange {
  @apply bg-orange-100 text-orange-700 dark:bg-orange-900/50 dark:text-orange-300;
}

.badge-gray {
  @apply bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300;
}

.badge-red {
  @apply bg-red-100 text-red-700 dark:bg-red-900/50 dark:text-red-300;
}

/* ============================================
   PROGRESS INDICATORS
   ============================================ */
/* Progress bar */
.progress-bar {
  @apply w-full bg-slate-100 rounded-full h-2 overflow-hidden dark:bg-slate-800;
}

.progress-fill {
  @apply h-full rounded-full transition-all duration-700 ease-out;
  background: var(--gradient-primary);
}

/* Animated progress bar */
.progress-fill-animated {
  @apply h-full rounded-full;
  background: var(--gradient-primary);
  animation: progressFill 1s ease-out forwards;
}

/* Ring progress (for circular indicators) */
.progress-ring {
  @apply transition-all duration-700 ease-out;
}

/* ============================================
   EMPTY & LOADING STATES
   ============================================ */
/* Empty state */
.empty-state {
  @apply flex flex-col items-center justify-center py-12 text-center;
  @apply animate-fade-in;
}

.empty-state-icon {
  @apply text-5xl mb-4 animate-bounce-in;
}

.empty-state-title {
  @apply text-lg font-semibold text-slate-700 mb-1 dark:text-slate-200;
}

.empty-state-text {
  @apply text-slate-500 mb-4 dark:text-slate-400;
}

/* Loading spinner */
.spinner {
  @apply animate-spin h-5 w-5 border-2 border-slate-200 border-t-emerald-500 rounded-full dark:border-slate-700;
}

.spinner-lg {
  @apply animate-spin h-8 w-8 rounded-full dark:border-slate-700;
  border-width: 3px;
  border-color: #e2e8f0;
  border-top-color: #10b981;
}

/* Skeleton loading */
.skeleton {
  @apply bg-slate-200 rounded dark:bg-slate-800;
  @apply animate-pulse;
}

/* Shimmer skeleton */
.skeleton-shimmer {
  @apply relative overflow-hidden bg-slate-200 rounded dark:bg-slate-800;
}

.skeleton-shimmer::after {
  @apply absolute inset-0;
  content: '';
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
  animation: shimmer 2s linear infinite;
  background-size: 200% 100%;
}

.dark .skeleton-shimmer::after {
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
  background-size: 200% 100%;
}

/* ============================================
   NAVIGATION
   ============================================ */
/* Mobile navigation */
@media (max-width: 768px) {
  .nav-item {
    @apply px-3 py-2 text-xs;
  }
}

/* Nav item transition */
.nav-link {
  @apply transition-all duration-200 ease-smooth;
}

/* ============================================
   SPECIAL EFFECTS
   ============================================ */
/* Glass effect */
.glass {
  @apply backdrop-blur-xl bg-white/70 dark:bg-slate-900/70;
}

.glass-dark {
  @apply backdrop-blur-xl bg-slate-900/80;
}

/* Gradient text */
.gradient-text {
  @apply bg-gradient-to-r from-emerald-600 to-emerald-500 bg-clip-text text-transparent;
}

.gradient-text-purple {
  @apply bg-gradient-to-r from-purple-600 to-indigo-500 bg-clip-text text-transparent;
}

/* Focus visible for accessibility */
:focus-visible {
  @apply outline-none ring-2 ring-emerald-500 ring-offset-2 dark:ring-offset-slate-900;
}

/* ============================================
   CHART STYLES
   ============================================ */
/* Chart container styling */
.chart-container {
  @apply bg-slate-50/50 dark:bg-slate-800/30 rounded-xl p-4;
  @apply border border-slate-100 dark:border-slate-800;
}

/* ============================================
   MODAL & OVERLAY
   ============================================ */
.modal-overlay {
  @apply fixed inset-0 bg-black/50 backdrop-blur-sm;
  @apply flex items-center justify-center z-50 p-4;
  @apply animate-fade-in;
}

.modal-content {
  @apply bg-white dark:bg-slate-900 rounded-2xl p-6 max-w-md w-full;
  @apply shadow-2xl border border-slate-200 dark:border-slate-800;
  @apply animate-scale-in;
}

/* ============================================
   CHECKBOX COMPLETION ANIMATION
   ============================================ */
.check-circle {
  @apply w-8 h-8 rounded-full flex items-center justify-center transition-all duration-200;
}

.check-circle-complete {
  @apply bg-emerald-500 text-white animate-check-bounce;
}

.check-circle-incomplete {
  @apply border-2 border-slate-300 dark:border-slate-600 text-slate-300 dark:text-slate-600;
  @apply hover:border-emerald-500 hover:text-emerald-500;
}

/* ============================================
   UTILITIES
   ============================================ */
/* Transition utilities */
.transition-smooth {
  @apply transition-all duration-200 ease-smooth;
}

.transition-bounce {
  @apply transition-all duration-300 ease-bounce-in;
}

/* Hide scrollbar but allow scroll */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* Truncate text */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* ============================================
   MOBILE RESPONSIVE FIXES
   ============================================ */
@media (max-width: 640px) {
  .card {
    @apply p-4;
  }
  
  .page-title {
    @apply text-xl;
  }
  
  .btn-primary, .btn-secondary, .btn-danger {
    @apply py-3 px-4 text-sm w-full justify-center;
  }
  
  .stat-card {
    @apply p-4 gap-3;
  }
  
  .stat-icon {
    @apply w-10 h-10 text-xl;
  }
}

/* Ensure minimum touch target on mobile */
@media (max-width: 768px) {
  button, [role="button"], a, input[type="checkbox"], input[type="radio"] {
    min-height: 44px;
    min-width: 44px;
  }
  
  .input {
    @apply py-3.5;
  }
}

/* ============================================
   STAGGERED ANIMATIONS FOR LISTS
   ============================================ */
.stagger-item {
  @apply animate-fade-in-up;
}

.stagger-item:nth-child(1) { animation-delay: 0ms; }
.stagger-item:nth-child(2) { animation-delay: 50ms; }
.stagger-item:nth-child(3) { animation-delay: 100ms; }
.stagger-item:nth-child(4) { animation-delay: 150ms; }
.stagger-item:nth-child(5) { animation-delay: 200ms; }
.stagger-item:nth-child(6) { animation-delay: 250ms; }
.stagger-item:nth-child(7) { animation-delay: 300ms; }
.stagger-item:nth-child(8) { animation-delay: 350ms; }
